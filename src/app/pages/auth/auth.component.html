<div class="container-login">
  <div class="container-left">
    <form
      class="container-form"
      [formGroup]="formgroup()"
      (ngSubmit)="formSubmit()"
    >
      <h1 class="h1">{{ labelh2() | translate }}</h1>
      @if(!isLogin()){
      <div class="container-label-button">
        <label for="login">{{ "Nom d'utilisateur" | translate }}</label>
        <input
          class="input"
          id="login"
          required="true"
          type="text"
          pInputText
          placeholder="Nom d'utilisateur"
          formControlName="login"
          autocomplete="false"
        />
      </div>
      }
      <div class="container-label-button">
        <label for="email">{{ "Adresse Mail" | translate }}</label>
        <input
          type="text"
          placehold
          id="email"
          placeholder="example@gmail.com"
          pInputText
          formControlName="email"
        />
      </div>

      <div class="container-label-button">
        <label for="password">{{ "Mot de passe" | translate }}</label>
        <p-password
          label="Password"
          id="password"
          required="true"
          [toggleMask]="true"
          class="input"
          formControlName="password"
          [feedback]="false"
        />
      </div>

      @if(!isLogin()){
      <div class="container-label-button">
        <label for="confirm">{{
          "Confirmez le mot de passe" | translate
        }}</label>
        <p-password
          id="confirm"
          required="true"
          [toggleMask]="true"
          class="input"
          formControlName="confirm"
          [feedback]="false"
        />
      </div>
      }
      <p-button
        class="input button"
        [label]="labelButton() | translate"
        [disabled]="!formgroup().valid"
        type="submit"
        [loading]="loading()"
      />
    </form>
    <div class="separator"></div>
    <div class="providers">
      <p-button
        (click)="loginGoogle()"
        severity="secondary"
        [loading]="loadingGoogle()"
        [label]="
          labelButton() === 'Connexion'
            ? 'Se Connecter avec Google'
            : 'S\'enregistrer avec Google'
        "
      >
        <ng-template pTemplate="icon">
          <img
            src="assets/images/google.png"
            alt="Google"
            style="width: 20px; height: 20px"
          />
        </ng-template>
      </p-button>
      <p-button
        (click)="loginGithub()"
        severity="secondary"
        [loading]="loadingGithub()"
        [label]="
          labelButton() === 'Connexion'
            ? 'Se Connecter avec Github'
            : 'S\'enregistrer avec Github'
        "
      >
        <ng-template pTemplate="icon">
          <img
            src="assets/images/github.png"
            alt="Github"
            style="width: 20px; height: 20px"
          />
        </ng-template>
      </p-button>
    </div>
    <div class="no-account">
      <p>
        {{ noAccountLabel() | translate }}
        <p-button
          [link]="true"
          [routerLink]="isLogin() ? ['/auth', 'register'] : ['/auth', 'login']"
          class="button"
          [label]="labelButton2() | translate"
        />
      </p>
    </div>
  </div>
</div>
