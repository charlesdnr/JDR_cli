<!-- Hero Section avec animation et gradient -->
<section class="hero-section">
  <div class="hero-background">
    <div class="gradient-overlay"></div>
    <div class="animated-particles"></div>
  </div>
  
  <div class="hero-content">
    <div class="hero-text">
      <h1 class="hero-title">
        @if(currentUser()?.username) {
          Bienvenue <span class="gradient-text">{{ currentUser()?.username }}</span>,<br>
        }
        Cr√©ez vos <span class="gradient-text">aventures √©piques</span> 
        <br>en toute simplicit√©
      </h1>
      <p class="hero-description">
        Plateforme moderne pour concevoir, partager et jouer vos modules de jeu de r√¥le. 
        Rejoignez une communaut√© passionn√©e et donnez vie √† vos histoires.
      </p>
      
      <div class="hero-actions">
        <button (click)="openCreateModuleModal()" class="btn-primary-hero">
          <span>Cr√©er un module</span>
          <i class="pi pi-arrow-right"></i>
        </button>
        <button (click)="scrollToExplore()" class="btn-secondary-hero">
          <span>D√©couvrir</span>
          <i class="pi pi-compass"></i>
        </button>
      </div>
      
      <div class="hero-stats">
        <div class="stat-item">
          <span class="stat-number">{{ moduleStats().total || 1024 }}</span>
          <span class="stat-label">Modules cr√©√©s</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ moduleStats().creators || 123 }}</span>
          <span class="stat-label">Cr√©ateurs actifs</span>
        </div>
        <div class="stat-item">
        </div>
      </div>
    </div>
    
    <div class="hero-visual">
      <div class="floating-cards">
        <div class="floating-card card-1">
          <div class="card-icon">üè∞</div>
          <div class="card-title">Donjon Myst√©rieux</div>
        </div>
        <div class="floating-card card-2">
          <div class="card-icon">‚öîÔ∏è</div>
          <div class="card-title">Combat √âpique</div>
        </div>
        <div class="floating-card card-3">
          <div class="card-icon">üßô‚Äç‚ôÇÔ∏è</div>
          <div class="card-title">Magie Ancienne</div>
        </div>
      </div>
      <div class="hero-illustration">
        <div class="central-orb"></div>
        <div class="orbit orbit-1"></div>
        <div class="orbit orbit-2"></div>
        <div class="orbit orbit-3"></div>
      </div>
    </div>
  </div>
  
  <div class="scroll-indicator" (click)="scrollToFeatures()" (keyup.enter)="scrollToFeatures()" tabindex="0">
    <div class="scroll-arrow"></div>
  </div>
</section>

<!-- Features Section -->
<!-- <section id="features" class="features-section">
  <div class="container">
    <div class="section-header">
      <span class="section-badge">Fonctionnalit√©s</span>
      <h2 class="section-title">Tout ce dont vous avez besoin</h2>
      <p class="section-description">
        Des outils puissants et intuitifs pour cr√©er des exp√©riences de jeu inoubliables
      </p>
    </div>
    
    <div class="features-grid">
      <div class="feature-card featured">
        <div class="feature-icon">
          <i class="pi pi-pencil"></i>
        </div>
        <h3>√âditeur Visuel</h3>
        <p>Interface intuitive avec drag & drop pour construire vos modules sans effort</p>
        <div class="feature-highlight">
          <span>Nouveau</span>
        </div>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="pi pi-users"></i>
        </div>
        <h3>Collaboration</h3>
        <p>Travaillez en √©quipe en temps r√©el avec vos co-cr√©ateurs</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="pi pi-cloud"></i>
        </div>
        <h3>Cloud Sync</h3>
        <p>Vos cr√©ations sont automatiquement sauvegard√©es et synchronis√©es</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="pi pi-share-alt"></i>
        </div>
        <h3>Partage Facile</h3>
        <p>Partagez vos modules avec la communaut√© en un clic</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="pi pi-mobile"></i>
        </div>
        <h3>Mobile Ready</h3>
        <p>Cr√©ez et jouez depuis n'importe quel appareil</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <i class="pi pi-palette"></i>
        </div>
        <h3>Th√®mes Personnalis√©s</h3>
        <p>Adaptez l'interface √† votre univers de jeu</p>
      </div>
    </div>
  </div>
</section> -->

<!-- Transition Wave Element -->
<div class="section-transition">
  <svg class="wave" viewBox="0 0 1200 120" preserveAspectRatio="none">
    <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" fill="currentColor"></path>
  </svg>
</div>

<!-- Enhanced Discover Section with Modern Design -->
<section id="explore" class="explore-section">
  <div class="container">
    <!-- Enhanced Section Header -->
    <div class="section-header">
      <div class="section-badge-container">
        <span class="section-badge">D√©couvrir</span>
        <div class="badge-glow"></div>
      </div>
      <h2 class="section-title">
        <span class="title-word" style="--delay: 0s">Modules</span>
        <span class="title-word" style="--delay: 0.1s">Populaires</span>
      </h2>
      <p class="section-description">
        Explorez les cr√©ations les plus appr√©ci√©es de notre communaut√© passionn√©e
      </p>
      <div class="section-decorative-line"></div>
    </div>
    
    <!-- Featured Module Spotlight -->
    @if (mostSavedModules().length > 0 && !loadingModules()) {
      <div class="featured-module-spotlight">
        <div class="spotlight-content">
          <div class="spotlight-image">
            <img [src]="mostSavedModules()[0].picture.src || 'assets/images/baseImageModule.png'" 
                 [alt]="mostSavedModules()[0].title"
                 loading="lazy">
            <div class="spotlight-overlay">
              <div class="spotlight-badge">‚≠ê Le plus populaire</div>
              <div class="spotlight-stats">
                <span class="stat-item">
                  <i class="pi pi-heart"></i>
                  {{ featuredModuleStats().likes }}
                </span>
                <span class="stat-item">
                  <i class="pi pi-eye"></i>
                  {{ featuredModuleStats().views }}
                </span>
              </div>
            </div>
          </div>
          
          <div class="spotlight-details">
            <div class="spotlight-meta">
              <p-tag value="Aventure Premium" styleClass="spotlight-category" severity="info"></p-tag>
              <div class="spotlight-rating">
                <p-rating 
                  [(ngModel)]="ratingValue" 
                  [readonly]="true" 
                  styleClass="rating-stars">
                </p-rating>
                <span class="rating-text">5.0</span>
              </div>
            </div>
            
            <h3 class="spotlight-title">{{ mostSavedModules()[0].title }}</h3>
            <p class="spotlight-description">{{ mostSavedModules()[0].description }}</p>
            
            <div class="spotlight-author clickable-author" 
                 (click)="goToUserProfile($event, mostSavedModules()[0].creator.id)"
                 (keyup.enter)="goToUserProfile($event, mostSavedModules()[0].creator.id)"
                 tabindex="0"
                 pTooltip="Voir le profil de {{ mostSavedModules()[0].creator.username }}"
                 tooltipStyleClass="tooltip-info">
              <div class="author-avatar-large">
                {{ mostSavedModules()[0].creator.username.charAt(0) || 'A' }}
              </div>
              <div class="author-info">
                <span class="author-name">{{ mostSavedModules()[0].creator.username || 'Anonyme' }}</span>
                <span class="author-role">Ma√Ætre de Jeu Expert</span>
              </div>
            </div>
            
            <p-button 
              class="btn-spotlight" 
              (click)="navigateToModule(mostSavedModules()[0].id)"
              label="D√©couvrir ce module"
              icon="pi pi-arrow-right"
              iconPos="right"
              styleClass="p-button-lg p-button-rounded"
              size="large">
            </p-button>
          </div>
        </div>
      </div>
    }
    
    <!-- Enhanced Modules Grid -->
    <div class="modules-section">
      <div class="modules-header">
        <h3 class="modules-section-title">Autres modules populaires</h3>
        <div class="modules-filter">
          <p-button label="Tous" styleClass="filter-btn active p-button-sm" size="small"></p-button>
          <p-button label="Aventure" styleClass="filter-btn p-button-sm p-button-outlined" size="small"></p-button>
          <p-button label="Campagne" styleClass="filter-btn p-button-sm p-button-outlined" size="small"></p-button>
          <p-button label="Sc√©nario" styleClass="filter-btn p-button-sm p-button-outlined" size="small"></p-button>
        </div>
      </div>
      
      <div class="modules-showcase">
        @if (loadingModules()) {
          <div class="loading-state">
            <div class="loading-grid">
              @for (i of [1,2,3,4,5,6]; track i) {
                <div class="module-skeleton">
                  <div class="skeleton-image"></div>
                  <div class="skeleton-content">
                    <div class="skeleton-line"></div>
                    <div class="skeleton-line short"></div>
                    <div class="skeleton-line"></div>
                  </div>
                </div>
              }
            </div>
          </div>
        } @else {
          @if (mostSavedModules().length > 1) {
            @for (module of mostSavedModules().slice(1); track module.id) {
              <div class="module-card-wrapper">
                <app-module-card [module]="module" />
              </div>
            }
          } @else {
            <div class="empty-state">
              <div class="empty-icon">üé≤</div>
              <h3>Aucun module disponible</h3>
              <p>Soyez le premier √† cr√©er un module pour cette communaut√© !</p>
              <p-button 
                (click)="openCreateModuleModal()"
                label="Cr√©er le premier module"
                styleClass="p-button-lg p-button-rounded"
                size="large">
              </p-button>
            </div>
          }
        }
      </div>
    </div>
    
    <!-- Recent Modules with Enhanced Design -->
    @if (mostRecentModules().length > 0 && !loadingModules()) {
      <div class="recent-modules-section">
        <div class="section-divider">
          <div class="divider-line"></div>
          <h3 class="subsection-title">
            <span class="title-icon">‚ö°</span>
            Modules les plus r√©cents
          </h3>
          <div class="divider-line"></div>
        </div>
        
        <div class="recent-modules-showcase">
          @for (module of mostRecentModules(); track module.id) {
            <div class="module-card-wrapper">
              <app-module-card [module]="module" />
            </div>
          }
        </div>
      </div>
    }
    
    
    <!-- Enhanced Call-to-Action -->
    <div class="explore-cta">
      <div class="cta-content">
        <h3 class="cta-title">D√©couvrez encore plus d'aventures</h3>
        <p class="cta-description">Explorez notre collection compl√®te de modules cr√©√©s par la communaut√©</p>
        <div class="cta-actions">
          <p-button 
            routerLink="/project"
            label="Voir tous les modules"
            icon="pi pi-arrow-right"
            iconPos="right"
            styleClass="btn-primary-large p-button-lg p-button-rounded"
            size="large">
          </p-button>
          <p-button 
            (click)="openCreateModuleModal()"
            label="Cr√©er un module"
            icon="pi pi-plus"
            iconPos="right"
            styleClass="btn-secondary-large p-button-lg p-button-rounded p-button-outlined"
            size="large">
          </p-button>
        </div>
      </div>
      
      <div class="cta-visual">
        <div class="floating-elements">
          <div class="floating-element" style="--delay: 0s">üé≤</div>
          <div class="floating-element" style="--delay: 0.5s">‚öîÔ∏è</div>
          <div class="floating-element" style="--delay: 1s">üè∞</div>
          <div class="floating-element" style="--delay: 1.5s">üßô‚Äç‚ôÇÔ∏è</div>
          <div class="floating-element" style="--delay: 2s">üêâ</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Community Section -->
<!-- <section class="community-section">
  <div class="container">
    <div class="community-content">
      <div class="community-text">
        <span class="section-badge">Communaut√©</span>
        <h2 class="section-title">Rejoignez la communaut√©</h2>
        <p class="section-description">
          Connectez-vous avec des milliers de cr√©ateurs passionn√©s. 
          Partagez vos id√©es, obtenez des retours et collaborez sur des projets extraordinaires.
        </p>
        
        <div class="community-features">
          <div class="community-feature">
            <i class="pi pi-comments"></i>
            <span>Forum de discussion actif</span>
          </div>
          <div class="community-feature">
            <i class="pi pi-star"></i>
            <span>Syst√®me de notation et reviews</span>
          </div>
          <div class="community-feature">
            <i class="pi pi-trophy"></i>
            <span>D√©fis cr√©atifs mensuels</span>
          </div>
        </div>
        
        <div class="community-actions">
          <button class="btn-primary" routerLink="/auth">
            <span>Cr√©er un compte</span>
            <i class="pi pi-user-plus"></i>
          </button>
          <button class="btn-secondary" (click)="scrollToFeatures()">
            <span>En savoir plus</span>
            <i class="pi pi-info-circle"></i>
          </button>
        </div>
      </div>
      
      <div class="community-visual">
        <div class="testimonials">
          <div class="testimonial active">
            <div class="testimonial-content">
              "Cette plateforme a r√©volutionn√© ma fa√ßon de cr√©er des aventures. Interface intuitive et communaut√© fantastique !"
            </div>
            <div class="testimonial-author">
              <div class="author-avatar">M</div>
              <div class="author-info">
                <span class="author-name">Marie Dubois</span>
                <span class="author-role">Ma√Ætre de jeu</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> -->

<!-- CTA Section -->
<!-- <section class="cta-section">
  <div class="container">
    <div class="cta-content">
      <h2 class="cta-title">Pr√™t √† cr√©er votre premi√®re aventure ?</h2>
      <p class="cta-description">
        Rejoignez des milliers de cr√©ateurs et donnez vie √† vos histoires d√®s aujourd'hui
      </p>
      
      <div class="cta-actions">
        <button class="btn-primary-large" routerLink="/new-module">
          <span>Commencer maintenant</span>
          <i class="pi pi-arrow-right"></i>
        </button>
        
        <div class="cta-note">
          <i class="pi pi-check-circle"></i>
          <span>Gratuit ‚Ä¢ Sans engagement ‚Ä¢ Acc√®s imm√©diat</span>
        </div>
      </div>
    </div>
  </div>
</section> -->